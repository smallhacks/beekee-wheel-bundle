{"version":3,"sources":["meteor://ðŸ’»app/lib/app_loader.js","meteor://ðŸ’»app/imports/api/publications.js","meteor://ðŸ’»app/imports/api/students.js","meteor://ðŸ’»app/imports/api/wheels.js","meteor://ðŸ’»app/server/main.js"],"names":["Meteor","isServer","Inject","rawHead","rawBody","Assets","getText","isClient","startup","setTimeout","$","fadeOut","remove","publish","users","find","fields","createdAt","profile","emails","username","module","export","Students","Mongo","link","v","Collection","studentsPublication","methods","showAllStudents","params","update","wheelId","$set","hidden","multi","hideAllStudents","Wheels","allow","insert","userId","space","wheelInsert","wheelAttributes","user","wheel","_","extend","_id","submitted","Date","count","adminPassword","settings","roles","each","id","Accounts","createUser","email","password","name","length"],"mappings":"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","file":"/app.js","sourcesContent":["if (Meteor.isServer) {\n\tInject.rawHead(\"metaLoader\", '<meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=0, width=device-width, height=device-height\"/><meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\t<meta name=\"mobile-web-app-capable\" content=\"yes\">');\n\n\tInject.rawBody(\"htmlLoader\", Assets.getText('app_loader.html'));\n}\n\nif (Meteor.isClient) {\n\tMeteor.startup(function() {\n\t\tsetTimeout(function() {\n\t\t\t$(\"#inject-loader-wrapper\").fadeOut(500, function() { $(this).remove(); });\n\t\t}, 700);\n\t});\n}","Meteor.publish(\"users\", function() {\n    return Meteor.users.find({}, {fields:{createdAt: true, profile: true, emails: true, username: true}});\n});","import { Mongo } from 'meteor/mongo';\n \nexport const Students = new Mongo.Collection('students');\n\nif (Meteor.isServer) {\n\n  Meteor.publish('students', function studentsPublication() {\n    return Students.find();\n  });\n\n\tMeteor.methods({\n\t\tshowAllStudents: function(params) {\n    \t\tStudents.update({wheelId: params.wheelId}, {$set: {hidden: false}}, {multi: true});\n\t\t},\n\t\thideAllStudents: function(params) {\n    \t\tStudents.update({wheelId: params.wheelId}, {$set: {hidden: true}}, {multi: true});\n\t\t}\n\t});\t\n}","import { Mongo } from 'meteor/mongo';\n \nexport const Wheels = new Mongo.Collection('wheels');\n\n\n\nWheels.allow({\n\n\tinsert: function() { return true},\n\tupdate: function(userId, space) { return true},\n\tremove: function(userId, space) { return true},\n\n\t// insert: function(userId, space) { return ownsDocument(userId, space) || isAdmin(userId); },\n\n\t// update: function(userId, space) { return ownsDocument(userId, space) || isAdmin(userId); },\n\n\t// remove: function(userId, space) { return ownsDocument(userId, space) || isAdmin(userId); }\n});\n\n\nif(Meteor.isServer) {\n\n\tMeteor.publish('ownWheels', function(userId) {\n\t\treturn Wheels.find({userId:userId});\n\t});\n\n\tMeteor.methods({\n\t\twheelInsert: function(wheelAttributes) {\n\n\t\t\tvar user = Meteor.user();\n\t\t\tvar wheel = _.extend(wheelAttributes, {\n\t\t\t\tuserId: user._id,\n\t\t\t\tsubmitted: new Date(),\n\t\t\t});\n\n\t\t\tvar wheelId = Wheels.insert(wheel);\n\n\n\t\t\treturn { _id: wheelId };\n\t\t}\n\t});\n}","import { Meteor } from 'meteor/meteor';\n\nimport '../imports/api/wheels.js';\nimport '../imports/api/students.js';\nimport '../imports/api/publications.js';\nimport '../lib/app_loader.js';\n\n\nMeteor.startup(() => {\n  // code to run on server at startup\n\n  \tif (Meteor.users.find().count() === 0) {\n\n\t\t// Create the admin role\n\t\t//Roles.createRole('admin', {unlessExists: true});\n\n\t\tvar adminPassword = Meteor.settings.adminPassword;\n\n\t\tvar users = [\n\t\t\t{username:\"admin\",roles:['admin']},\n\t\t];\n\n\t\t_.each(users, function (user) {\n\t\t\tvar id;\n\t\t\tid = Accounts.createUser({\n\t\t\t\tusername: user.username,\n\t\t\t\temail: \"admin@beekee.ch\",\n\t\t\t\t//password: adminPassword,\n\t\t\t\tpassword: \"admin\",\n\t\t\t\tprofile:{name:\"Admin\"}\n\t\t\t});\n\n\t\t\tif (user.roles.length > 0) {\n\t\t\t\t//Roles.addUsersToRoles(id, user.roles);\n\t\t\t}\n\t\t});\n\t}\n\n\n});\n"]}